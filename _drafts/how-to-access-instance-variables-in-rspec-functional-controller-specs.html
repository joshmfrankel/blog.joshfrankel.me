---
layout: post
title: "How to Access Instance Variables in Rspec Functional Controller Specs"
---

<h3>Rspec and controller instance variables</h3>
<p>If you have ever tried to write functional tests for a controller, you will know that they can be a little tricky. One such trip up point that I ran into was accessing instance variables from within the controller spec. You can't just do <code>expect(@variable).to be_valid</code> because <code>@variable</code> is an instance variable and won't exist in your spec unless you have defined it.</p>

<p>Instead Rails provides a number of hash objects for easier functional testing. To grab the instance variable one only needs to use the following format <code>assigns(:variable)</code>. This will grab the <code>@variable</code> from the controller so you can use it in your tests.</p>

<div class="well">
  <p><strong>More hashes</strong></p>
  <p>There are a total of 4 hashes that can be utilized in your tests</p>
  <ul>
    <li>assigns - Any objects that are stored as instance variables in actions for use in views.</li>
    <li>cookies - Any cookies that are set.</li>
    <li>flash - Any objects living in the flash.</li>
    <li>session - Any object living in session variables.</li>
  </ul>
  <p><small>reference:</small> http://guides.rubyonrails.org/</p>
</div>
